# CyberPower PDU Bridge Configuration
# See docs/configuration.md for full documentation

# PDU SNMP settings (single-PDU mode — overridden by pdus.json for multi-PDU)
PDU_HOST=192.168.20.177
PDU_SNMP_PORT=161
PDU_COMMUNITY_READ=public
PDU_COMMUNITY_WRITE=private
# PDU_DEVICE_ID=          # Optional — auto-assigned as pdu-01, pdu-02, etc.

# Serial transport (optional — leave empty to disable)
# PDU_SERIAL_PORT=        # e.g., /dev/ttyUSB0
# PDU_SERIAL_BAUD=9600
# PDU_SERIAL_USERNAME=cyber
# PDU_SERIAL_PASSWORD=cyber
# PDU_TRANSPORT=snmp      # snmp, serial, or both

# MQTT settings
MQTT_BROKER=mosquitto
MQTT_PORT=1883
# MQTT_USERNAME=
# MQTT_PASSWORD=

# Bridge settings
BRIDGE_POLL_INTERVAL=1.0
BRIDGE_MOCK_MODE=false
BRIDGE_LOG_LEVEL=INFO
BRIDGE_SNMP_TIMEOUT=2.0
BRIDGE_SNMP_RETRIES=1

# Web UI
BRIDGE_WEB_PORT=8080
# BRIDGE_WEB_PASSWORD=    # Set to enable dashboard authentication
# BRIDGE_WEB_USERNAME=admin

# History / Reports
HISTORY_RETENTION_DAYS=60
HOUSE_MONTHLY_KWH=0
# BRIDGE_REPORTS_ENABLED=true
# BRIDGE_REPORTS_PATH=./reports  # Host directory for PDF reports

# InfluxDB settings (optional)
INFLUXDB_URL=http://influxdb:8086
INFLUXDB_ORG=cyber-pdu
INFLUXDB_BUCKET=pdu
INFLUXDB_ADMIN_USER=admin
INFLUXDB_ADMIN_PASSWORD=changeme123
INFLUXDB_ADMIN_TOKEN=cyber-pdu-admin-token

# Telegraf
TELEGRAF_MQTT_BROKER=tcp://mosquitto:1883
